[% PROCESS settings/header.html %]	
	[% IF isSignedIn %]
	<strong>You are currently signed in, you can sign out by pressing the button below :</strong>
	<br/>
	<input name="signout" type="submit" value="Sign Out" class="stdclick" />
	<br/>
	<p><small>Security tokens available (Expires [% sylphExp %] and [% idExp %])</small></p>
	
	[% END %]
	[% IF isSignedOut %]
		To sign in, enter your BBC Account credentials below and click the "Sign In" button :<br/>    
	
		[% WRAPPER setting title="PLUGIN_BBCSOUNDS_USERNAME" desc="PLUGIN_BBCSOUNDS_USERNAME_DESC" %]
		<div class="prefDesc">
			<input type="text" class="stdedit" name="pref_username" value="[% prefs.username %]" size="40" />	
		</div>

		[% END %]
		
		[% WRAPPER setting title="PLUGIN_BBCSOUNDS_PASSWORD" desc="PLUGIN_BBCSOUNDS_PASSWORD_DESC" %]
		<div class="prefDesc">
			<input type="password" class="stdedit" name="pref_password" value="[% prefs.password %]" size="40" />	
		</div>

		[% END %]		
		<br/>		
		<script type="text/javascript"> 
			function bschangeText(submitId){
				var submit = document.getElementById(submitId);
				submit.value = 'Please wait...';
				return true;
			};		
		</script>
		[% IF useExtJS || useAJAX %]
			<input name="signin" type="submit" value="Sign In" class="stdclick" id="btnsignin" onclick="return bschangeText('btnsignin');" />
		[% ELSE %]
			<input name="signin" type="submit" value="Sign In" class="stdclick" />
		[% END %]
		<br/>

	
	[% END %]

	<p>For help, see the <a href="https://github.com/expectingtofly/LMS_BBC_Sounds_Plugin/wiki" target="none">BBC Sounds LMS Plugin Wiki</a></p>

	<hr/>	

	[% WRAPPER setting title="Menu Location" desc="" %]	
	<input name="pref_is_radio" type="checkbox" [% IF prefs.pref_is_radio %] checked [% END %]>
	<label for="pref_is_radio">Place in the "Radio" menu instead of the default "My Apps" menu.  Requires a restart of LMS.</label>	
	[% END %]	

	<br/>

	[% WRAPPER setting title="Programme Information Display" desc="" %]
		Amend the settings below to adjust the display when a programme and track is playing :
	[% END %]



	[% WRAPPER setting title="" desc="" %]
	<table>
        <tr><th>Item:</th><th>When programme playing:</th><th>When track playing:</th></tr>        
        <tr>
            <td width="15%">Line 1 (title)</td>            
            <td width="25%"><select class="stdedit" name="pref_programmedisplayline1" id="pref_programmedisplayline1">			
				<option [% IF prefs.pref_programmedisplayline1 == 10 %]selected [% END %]value="10">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMME" | string %]</option>
				<option [% IF prefs.pref_programmedisplayline1 == 11 %]selected [% END %]value="11">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMMEDESCRIPTION" | string %]</option>
				<option [% IF prefs.pref_programmedisplayline1 == 12 %]selected [% END %]value="12">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_STATION" | string %]</option>
				<option [% IF prefs.pref_programmedisplayline1 == 13 %]selected [% END %]value="13">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_BLANK" | string %]</option>			
			</select></td>
			<td width="25%"><select class="stdedit" name="pref_trackdisplayline1" id="pref_trackdisplayline1">			
				<option [% IF prefs.pref_trackdisplayline1 == 1 %]selected [% END %]value="1">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_TRACKBYARTIST" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline1 == 2 %]selected [% END %]value="2">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_TRACKTITLEONLY" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline1 == 3 %]selected [% END %]value="3">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_ARTIST" | string %]</option>		
				<option [% IF prefs.pref_trackdisplayline1 == 10 %]selected [% END %]value="10">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMME" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline1 == 11 %]selected [% END %]value="11">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMMEDESCRIPTION" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline1 == 12 %]selected [% END %]value="12">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_STATION" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline1 == 13 %]selected [% END %]value="13">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_BLANK" | string %]</option>			
			</select>
			</td>
        </tr>
		<tr>
            <td width="15%">Line 2 (artist)</td>            
            <td width="25%"><select class="stdedit" name="pref_programmedisplayline2" id="pref_programmedisplayline2">			
				<option [% IF prefs.pref_programmedisplayline2 == 10 %]selected [% END %]value="10">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMME" | string %]</option>
				<option [% IF prefs.pref_programmedisplayline2 == 11 %]selected [% END %]value="11">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMMEDESCRIPTION" | string %]</option>
				<option [% IF prefs.pref_programmedisplayline2 == 12 %]selected [% END %]value="12">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_STATION" | string %]</option>
				<option [% IF prefs.pref_programmedisplayline2 == 13 %]selected [% END %]value="13">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_BLANK" | string %]</option>			
			</select></td>
			<td width="25%"><select class="stdedit" name="pref_trackdisplayline2" id="pref_trackdisplayline2">			
				<option [% IF prefs.pref_trackdisplayline2 == 1 %]selected [% END %]value="1">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_TRACKBYARTIST" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline2 == 2 %]selected [% END %]value="2">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_TRACKTITLEONLY" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline2 == 3 %]selected [% END %]value="3">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_ARTIST" | string %]</option>		
				<option [% IF prefs.pref_trackdisplayline2 == 10 %]selected [% END %]value="10">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMME" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline2 == 11 %]selected [% END %]value="11">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMMEDESCRIPTION" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline2 == 12 %]selected [% END %]value="12">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_STATION" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline2 == 13 %]selected [% END %]value="13">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_BLANK" | string %]</option>			
			</select>
			</td>
        </tr>
		<tr>
            <td width="15%">Line 3 (album)</td>            
            <td width="25%"><select class="stdedit" name="pref_programmedisplayline3" id="pref_programmedisplayline3">			
				<option [% IF prefs.pref_programmedisplayline3 == 10 %]selected [% END %]value="10">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMME" | string %]</option>
				<option [% IF prefs.pref_programmedisplayline3 == 11 %]selected [% END %]value="11">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMMEDESCRIPTION" | string %]</option>
				<option [% IF prefs.pref_programmedisplayline3 == 12 %]selected [% END %]value="12">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_STATION" | string %]</option>
				<option [% IF prefs.pref_programmedisplayline3 == 13 %]selected [% END %]value="13">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_BLANK" | string %]</option>			
			</select></td>
			<td width="25%"><select class="stdedit" name="pref_trackdisplayline3" id="pref_trackdisplayline3">
				<option [% IF prefs.pref_trackdisplayline3 == 1 %]selected [% END %]value="1">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_TRACKBYARTIST" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline3 == 2 %]selected [% END %]value="2">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_TRACKTITLEONLY" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline3 == 3 %]selected [% END %]value="3">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_ARTIST" | string %]</option>		
				<option [% IF prefs.pref_trackdisplayline3 == 10 %]selected [% END %]value="10">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMME" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline3 == 11 %]selected [% END %]value="11">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_PROGRAMMEDESCRIPTION" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline3 == 12 %]selected [% END %]value="12">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_STATION" | string %]</option>
				<option [% IF prefs.pref_trackdisplayline3 == 13 %]selected [% END %]value="13">[% "PLUGIN_BBCSOUNDS_DISPLAYLINE_BLANK" | string %]</option>			
			</select>
			</td>
        </tr>      
		<tr>
            <td width="10%">Image</td>            
            <td width="25%"><select class="stdedit" name="pref_programmedisplayimage" id="pref_programmedisplayimage">					
				<option [% IF prefs.pref_programmedisplayimage == 2 %]selected [% END %]value="2">Programme image</option>							
				</select></td>
			<td width="25%"><select class="stdedit" name="pref_trackdisplayimage" id="pref_trackdisplayimage">			
				<option [% IF prefs.pref_trackdisplayimage == 1 %]selected [% END %]value="1">Track Image</option>
				<option [% IF prefs.pref_trackdisplayimage == 2 %]selected [% END %]value="2">Programme image</option>						
			</select>
			</td>
        </tr>      
    </table>
	[% END %]


	[% WRAPPER setting title="" desc="" %]
	<table>
	<tr><td>
		<input name="pref_rewoundind" id="pref_rewoundind" type="checkbox" [% IF prefs.pref_rewoundind %] checked [% END %]>
		<label for="pref_rewoundind">Show a "Rewound" indicator in the title for paused/rewound live radio</label>
	</td></tr>
	<tr><td>
		<input name="pref_noBlankTrackImage" id="pref_noBlankTrackImage" type="checkbox" [% IF prefs.pref_noBlankTrackImage %] checked [% END %]>
		<label for="pref_noBlankTrackImage">Do not display blank (grey) track image (if possible)</label>	
	</td></tr>
	<tr><td>
		<input name="pref_getExternalTrackImage" id="pref_getExternalTrackImage" type="checkbox" [% IF prefs.pref_getExternalTrackImage %] checked [% END %]>
		<label for="pref_getExternalTrackImage">Get track image externally if the BBC don't provide it</label>	
	</td></tr>
	</table>

	[% END %]	

	<br/>
	[% WRAPPER setting title="Now Playing Buttons" desc="" %]	
	<input name="pref_nowPlayingActivityButtons" type="checkbox" [% IF prefs.pref_nowPlayingActivityButtons %] checked [% END %] >
	<label for="pref_nowPlayingActivityButtons">Display <i>bookmark</i> and <i>Subscribe</i> buttons in place of <i>Repeat</i> and <i>Shuffle</i> on the Now Playing Screen</label>	
	[% END %]

	<br/>
	[% WRAPPER setting title="Playable Item Menu Behaviour" desc="" %]	
	<input name="pref_playableAsPlaylist" type="checkbox" [% IF prefs.pref_playableAsPlaylist %] checked [% END %] >
	<label for="pref_playableAsPlaylist">Set the top menu for a programme to be playable without the requirement to enter the sub menu</label>	
	[% END %]
	
	<br/>

	[% WRAPPER setting title="Home Menu Items" desc="" %]
    <table>
        <tr><th>Menu Item :</th><th>Displayed :</th></tr>
        [% FOREACH menuitem = homeMenu %]
        <tr>            
            <td>[% menuitem.title %]</td>            
            <td><input name="pref_menuitem_[% menuitem.item %]" [% IF menuitem.display %] checked [% END %] [% IF menuitem.disabled %] disabled [% END %]type="checkbox" /></td>		
        </tr>
        [% END %]        
    </table>    
    [% END %]     

	<br/>

	[% WRAPPER setting title="Search History" desc="" %]	
	<input name="clearSearchHistory" type="checkbox" >
	<label for="clearSearchHistory">Clear search history</label>	
	[% END %]

	<hr/>	
	
	[% WRAPPER setting title="Advanced Settings" desc="" %]
	The settings below should only be changed if you have a specific reason to do so.
	[% END %]
	
	[% WRAPPER setting title="" desc="" %]
		<input name="pref_hideSampleRate" id="pref_hideSampleRate" type="checkbox" [% IF prefs.pref_hideSampleRate %] checked [% END %]>
		<label for="pref_hideSampleRate">Hide the audio sample rate from LMS. This can help with a specific transcoding issue on devices that can't natively support 48000</label>
	[% END %]

	[% WRAPPER setting title="" desc="" %]
	<input name="pref_forceHTTP" id="pref_forceHTTP" type="checkbox" [% IF prefs.pref_forceHTTP %] checked [% END %]>
	<label for="pref_forceHTTP">Force HTTP streaming</label>
	[% END %]	

	[% WRAPPER setting title="" desc="" %]	
	<label for="pref_throttleInterval" >Stream throttling interval : </label>
	<select class="stdedit" name="pref_throttleInterval" id="pref_throttleInterval">			
		<option [% IF prefs.pref_throttleInterval == 0 %]selected [% END %]value="0">0 Seconds</option>
		<option [% IF prefs.pref_throttleInterval == 1 %]selected [% END %]value="1">1 Second</option>
		<option [% IF prefs.pref_throttleInterval == 2 %]selected [% END %]value="2">2 Seconds</option>
		<option [% IF prefs.pref_throttleInterval == 3 %]selected [% END %]value="3">3 Seconds</option>				
	</select>	
	[% END %]

	<hr/>	
	[% WRAPPER setting title="About BBC Sounds LMS Plugin" desc="" %]
	<i><p>The BBC Sounds LMS Plugin consumes BBC API's and every effort has been made to adhere to the BBC distribution policy.  However, the plugin itself is not endorsed or approved by the BBC.</p>
	<p><a href="https://github.com/expectingtofly/LMS_BBC_Sounds_Plugin/wiki" target="none">BBC Sounds LMS Plugin Wiki</a></p>
	<p><a href="https://github.com/expectingtofly/LMS_BBC_Sounds_Plugin" target="none">BBC Sounds LMS Plugin Project Home Page</a></p>	
	<p>The BBC Sounds LMS Plugin is free and open source under the GPLv3 license, it has been developed for my own use with the hope it will be useful for the LMS community.  If you wish to support the project you can <a href="https://ko-fi.com/expectingtofly" target="none">buy the developer a coffee.</a></p></i>	
	<p>(c) 2020-2023 Stuart McLean (stu@expectingtofly.co.uk)</p>
	[% END %]	

	

[% PROCESS settings/footer.html %]
